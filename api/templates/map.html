<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Map</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div id="container" style="width: 98%;height: 800px"></div>
<script type="text/javascript">
    window.init = function () {
        let map = new AMap.Map('container', {
            resizeEnable: true
        });

        AMap.plugin('AMap.Geolocation', function (callback) {
            let geolocation = new AMap.Geolocation({
                // 是否使用高精度定位，默认：true
                enableHighAccuracy: true,
                // 设置定位超时时间，默认：无穷大
                timeout: 10000,
                // 定位按钮的停靠位置的偏移量，默认：Pixel(10, 20)
                buttonOffset: new AMap.Pixel(10, 20),
                //  定位成功后调整地图视野范围使定位位置及精度范围视野内可见，默认：false
                zoomToAccuracy: true,
                //  定位按钮的排放位置,  RB表示右下
                buttonPosition: 'RB'
            })

            geolocation.getCurrentPosition(onComplete, onError)

            function onComplete(data) {
                console.log('yes')
                console.log(data)
            }

            function onError(data) {
                console.log('no')
                console.log(data)
            }
        })
    }

</script>
<script src="https://webapi.amap.com/maps?v=1.4.15&key=751df63e511df1470816c41d9a4f0ae4&callback=init"></script>
</body>
</html>